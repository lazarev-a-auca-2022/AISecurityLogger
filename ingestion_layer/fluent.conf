# Sample FluentD configuration for the Ingestion Layer MVP

# Define a source (e.g., reading from a dummy file)
<source>
  @type tail
  path /var/log/dummy.log  # Placeholder: Replace with actual log file path
  pos_file /var/log/dummy.log.pos
  tag dummy.log
  @label @kafka
</source>

# Define a label for routing to Kafka
<label @kafka>
  <match dummy.log>
    @type kafka2
    brokers KAFKA_BROKER_ADDRESS  # Placeholder: Replace with your Kafka broker address (e.g., localhost:9092)
    topic YOUR_KAFKA_TOPIC      # Placeholder: Replace with your desired Kafka topic name

    <format>
      @type json
    </format>

    # Optional: Configure buffering
    <buffer>
      @type file
      path /var/log/fluentd/buffer/kafka
      flush_interval 5s
    </buffer>
  </match>
</label>
